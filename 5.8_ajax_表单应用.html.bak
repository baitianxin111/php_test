<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
			<link rel="stylesheet" type="text/css" href="css/5.8_ajax_表单应用.css"/>
			<script src="js/jquery.js"></script>
			<script src="js/5.8_ajax_表单应用.js"></script>
		<title></title>
	</head>
	<body>
		<div class="main">
			<div class="logo">
				<img src="img/logov5-2.png" alt="" />
			</div>
			<div class="con">
				 <form action="from_ajax.php" method="post">
				 	
				 	 <div class="username">
				 	 	<input class="name" type="text" name="" id="" value="" placeholder="手机/邮箱/用户名"/>
				 	 	<span class="name1"></span>
				 	 </div>
				 	 <div class="userpwd">
				 	 	<input class="pwd" type="password" name="" id="" value="" placeholder="密码" />
				 		<span class="pwd1"></span>
				 	 </div>
				 	 <div class="login">
				 	 	 <input class="btn" type="submit" value="登录"/>	 	 	 	
				 	 </div>
				 </form>
			</div>
		</div>
	</body>
	<script>
	$(function(){
	var reg1=/^1[0-9]\d{9}$/;  <!-- 匹配手机 -->
	var reg2=/^\w+@\w+\.[a-z]{2,4}$/;  <!-- 匹配邮箱 -->
	var reg3=/\w{6,8}/; <!-- 匹配密码 -->
		$('.name').on('input',function(){
			 
			var username=$('.name').val();
			$.post('from.php',{name:username},function(data){
				if (reg1.test(username)||reg2.test(username)) {
					 
					$('.name1').text('用户名正确');
					
				} else{
					$('.name1').text('非法用户');
				}
			});
			
            });
		$('.pwd').on('input',function(){
			var userpwd=$('.pwd').val();
			 
			$.post('from.php',{pwd:userpwd},function(data){
				if (reg3.test(userpwd) ) {
					 
					$('.pwd1').text('密码正确');
					
				} else{
					$('.pwd1').text('该用户不存在');
				}
			});
			});
	 
		});
		$('.btn').on('click',function(){

			alert('登录成功！')
			});
	</script>
</html>
