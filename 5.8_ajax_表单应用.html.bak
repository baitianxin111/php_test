<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
			<link rel="stylesheet" type="text/css" href="css/5.8_ajax_表单应用.css"/>
			<script src="js/jquery.js"></script>
			<script src="js/5.8_ajax_表单应用.js"></script>
		<title></title>
	</head>
	<body>
		<div class="main">
			<div class="logo">
				<img src="img/logov5-2.png" alt="" />
			</div>
			<div class="con">
				 <form action="from_ajax.php" method="post">

				 	 <div class="username">
				 	 	<input class="name" type="text" name="name" id="" value="" placeholder="手机/邮箱/用户名"/>
				 	 	<span class="name1"></span>
				 	 </div>
				 	 <div class="userpwd">
				 	 	<input class="pwd" type="password" name="password" id="" value="" placeholder="密码" />
				 		<span class="pwd1"></span>
				 	 </div>
				 	 <div class="login">
				 	 	 <input class="btn" type="submit" name="btn_submit" value="登录"/>	 	 	 	
				 	 </div>
				 </form>
			</div>
		</div>
	</body>
	<script>
	$(function(){


		$('.name').on('input',function(){
		var reg1=/^1\d{10}$/;  <!-- 匹配手机 -->
		var reg2=/^\w+@\w+\.[a-z]{2,4}$/;  <!-- 匹配邮箱 -->

			var username=$('.name').val();
			$.post('from_ajax.php',{name:username},function(data){
				if (reg1.test(username)||reg2.test(username)) {

					$('.name1').text('用户名正确');
					$('.name').text(data);


				} else{
					$('.name1').text(' 非法用户');

				}
			});

            });
		$('.pwd').on('input',function(){
			var reg3=/^\w{6,8}/; <!-- 匹配密码 -->
			var userpwd=$('.pwd').val();

			$.post('from_ajax.php',{pwd:userpwd},function(data){
				if (reg3.test(userpwd) ) {

					$('.pwd1').text('密码正确');
					$('.pwd').text(data);

				} else{
					$('.pwd1').text('该用户不存在');
				}
			});
			});

		});
		 
	</script>
</html>
